<template>
  <div class="row">
    <div class="col s12 m6 l4 mb-3" v-for="item in this.items" :key="item.id">
      <a class="item" href="#" @click.prevent>
        <div class="item-img">
          <img v-if="production" :src="item.img" />
          <img v-else :src="'http://localhost:3000/' + item.img" />
          <p class="tag" v-if="item.sale">{{ item.tag }}</p>
        </div>
        <div class="item-info">
          <div>
            <span class="price">
              <ins>{{ item.price }}₽</ins>
              <span class="sale" v-if="item.oldPrice && item.sale">
                <del>{{ item.oldPrice }}₽</del>
                <span>{{ (item.price / item.oldPrice) * 100 }}%</span>
              </span>
            </span>
          </div>
          <div class="item-name">
            <span>{{ item.name }}</span>
          </div>
          <span
            ref="stars"
            class="c-stars-line-lg j-stars stars-line-sm star5"
            style="
              background: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22196%22%20height%3D%2216%22%20viewBox%3D%220%200%20196%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M88.331%201.2306L90.1118%205.6504L94.6708%206.06111C94.987%206.08975%2095.1157%206.50347%2094.8757%206.72126L91.4176%209.86297L92.4538%2014.5367C92.5257%2014.8615%2092.1901%2015.117%2091.9185%2014.9444L88.0004%2012.4666L84.0824%2014.9444C83.8101%2015.1162%2083.4752%2014.8608%2083.5471%2014.5367L84.5833%209.86297L81.1245%206.7205C80.8845%206.50271%2081.0124%206.08899%2081.3293%206.06036L85.8884%205.64965L87.6692%201.2306C87.7928%200.923134%2088.2074%200.923134%2088.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M8.33102%201.2306L10.1118%205.6504L14.6708%206.06111C14.987%206.08975%2015.1157%206.50347%2014.8757%206.72126L11.4176%209.86297L12.4538%2014.5367C12.5257%2014.8615%2012.1901%2015.117%2011.9185%2014.9444L8.00045%2012.4666L4.08244%2014.9444C3.81007%2015.1162%203.47519%2014.8608%203.54705%2014.5367L4.58333%209.86297L1.12453%206.7205C0.884502%206.50271%201.01242%206.08899%201.32934%206.06036L5.88837%205.64965L7.66916%201.2306C7.79276%200.923134%208.20742%200.923134%208.33102%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M28.331%201.2306L30.1118%205.6504L34.6708%206.06111C34.987%206.08975%2035.1157%206.50347%2034.8757%206.72126L31.4176%209.86297L32.4538%2014.5367C32.5257%2014.8615%2032.1901%2015.117%2031.9185%2014.9444L28.0004%2012.4666L24.0824%2014.9444C23.8101%2015.1162%2023.4752%2014.8608%2023.5471%2014.5367L24.5833%209.86297L21.1245%206.7205C20.8845%206.50271%2021.0124%206.08899%2021.3293%206.06036L25.8884%205.64965L27.6692%201.2306C27.7928%200.923134%2028.2074%200.923134%2028.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M48.331%201.2306L50.1118%205.6504L54.6708%206.06111C54.987%206.08975%2055.1157%206.50347%2054.8757%206.72126L51.4176%209.86297L52.4538%2014.5367C52.5257%2014.8615%2052.1901%2015.117%2051.9185%2014.9444L48.0004%2012.4666L44.0824%2014.9444C43.8101%2015.1162%2043.4752%2014.8608%2043.5471%2014.5367L44.5833%209.86297L41.1245%206.7205C40.8845%206.50271%2041.0124%206.08899%2041.3293%206.06036L45.8884%205.64965L47.6692%201.2306C47.7928%200.923134%2048.2074%200.923134%2048.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M68.331%201.2306L70.1118%205.6504L74.6708%206.06111C74.987%206.08975%2075.1157%206.50347%2074.8757%206.72126L71.4176%209.86297L72.4538%2014.5367C72.5257%2014.8615%2072.1901%2015.117%2071.9185%2014.9444L68.0004%2012.4666L64.0824%2014.9444C63.8101%2015.1162%2063.4752%2014.8608%2063.5471%2014.5367L64.5833%209.86297L61.1245%206.7205C60.8845%206.50271%2061.0124%206.08899%2061.3293%206.06036L65.8884%205.64965L67.6692%201.2306C67.7928%200.923134%2068.2074%200.923134%2068.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M188.331%201.2306L190.112%205.6504L194.671%206.06111C194.987%206.08975%20195.116%206.50347%20194.876%206.72126L191.418%209.86297L192.454%2014.5367C192.526%2014.8615%20192.19%2015.117%20191.918%2014.9444L188%2012.4666L184.082%2014.9444C183.81%2015.1162%20183.475%2014.8608%20183.547%2014.5367L184.583%209.86297L181.125%206.7205C180.885%206.50271%20181.012%206.08899%20181.329%206.06036L185.888%205.64965L187.669%201.2306C187.793%200.923134%20188.207%200.923134%20188.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M108.331%201.2306L110.112%205.6504L114.671%206.06111C114.987%206.08975%20115.116%206.50347%20114.876%206.72126L111.418%209.86297L112.454%2014.5367C112.526%2014.8615%20112.19%2015.117%20111.918%2014.9444L108%2012.4666L104.082%2014.9444C103.81%2015.1162%20103.475%2014.8608%20103.547%2014.5367L104.583%209.86297L101.125%206.7205C100.885%206.50271%20101.012%206.08899%20101.329%206.06036L105.888%205.64965L107.669%201.2306C107.793%200.923134%20108.207%200.923134%20108.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M128.331%201.2306L130.112%205.6504L134.671%206.06111C134.987%206.08975%20135.116%206.50347%20134.876%206.72126L131.418%209.86297L132.454%2014.5367C132.526%2014.8615%20132.19%2015.117%20131.918%2014.9444L128%2012.4666L124.082%2014.9444C123.81%2015.1162%20123.475%2014.8608%20123.547%2014.5367L124.583%209.86297L121.125%206.7205C120.885%206.50271%20121.012%206.08899%20121.329%206.06036L125.888%205.64965L127.669%201.2306C127.793%200.923134%20128.207%200.923134%20128.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M148.331%201.2306L150.112%205.6504L154.671%206.06111C154.987%206.08975%20155.116%206.50347%20154.876%206.72126L151.418%209.86297L152.454%2014.5367C152.526%2014.8615%20152.19%2015.117%20151.918%2014.9444L148%2012.4666L144.082%2014.9444C143.81%2015.1162%20143.475%2014.8608%20143.547%2014.5367L144.583%209.86297L141.125%206.7205C140.885%206.50271%20141.012%206.08899%20141.329%206.06036L145.888%205.64965L147.669%201.2306C147.793%200.923134%20148.207%200.923134%20148.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M168.331%201.2306L170.112%205.6504L174.671%206.06111C174.987%206.08975%20175.116%206.50347%20174.876%206.72126L171.418%209.86297L172.454%2014.5367C172.526%2014.8615%20172.19%2015.117%20171.918%2014.9444L168%2012.4666L164.082%2014.9444C163.81%2015.1162%20163.475%2014.8608%20163.547%2014.5367L164.583%209.86297L161.125%206.7205C160.885%206.50271%20161.012%206.08899%20161.329%206.06036L165.888%205.64965L167.669%201.2306C167.793%200.923134%20168.207%200.923134%20168.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3C%2Fsvg%3E%0A') -100px
                center no-repeat;
              height: 14px;
              width: 100px;
              font-size: 0;
              display: inline-block;
              vertical-align: baseline;
              background-position-x: -40px;
            "
          ></span>
          <div class="to-cart" style="">
            <a
              href="#"
              @click.prevent
              class="waves-effect waves-light btn red lighten-1"
              >В корзину</a
            >
          </div>
        </div>
      </a>
    </div>
  </div>
</template>

<style scoped>
/* .i-dtList .c-stars-line-lg.star5 {
  background-position-x: 0;
}
.i-dtList .c-stars-line-lg {
    background: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22196%22%20height%3D%2216%22%20viewBox%3D%220%200%20196%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M88.331%201.2306L90.1118%205.6504L94.6708%206.06111C94.987%206.08975%2095.1157%206.50347%2094.8757%206.72126L91.4176%209.86297L92.4538%2014.5367C92.5257%2014.8615%2092.1901%2015.117%2091.9185%2014.9444L88.0004%2012.4666L84.0824%2014.9444C83.8101%2015.1162%2083.4752%2014.8608%2083.5471%2014.5367L84.5833%209.86297L81.1245%206.7205C80.8845%206.50271%2081.0124%206.08899%2081.3293%206.06036L85.8884%205.64965L87.6692%201.2306C87.7928%200.923134%2088.2074%200.923134%2088.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M8.33102%201.2306L10.1118%205.6504L14.6708%206.06111C14.987%206.08975%2015.1157%206.50347%2014.8757%206.72126L11.4176%209.86297L12.4538%2014.5367C12.5257%2014.8615%2012.1901%2015.117%2011.9185%2014.9444L8.00045%2012.4666L4.08244%2014.9444C3.81007%2015.1162%203.47519%2014.8608%203.54705%2014.5367L4.58333%209.86297L1.12453%206.7205C0.884502%206.50271%201.01242%206.08899%201.32934%206.06036L5.88837%205.64965L7.66916%201.2306C7.79276%200.923134%208.20742%200.923134%208.33102%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M28.331%201.2306L30.1118%205.6504L34.6708%206.06111C34.987%206.08975%2035.1157%206.50347%2034.8757%206.72126L31.4176%209.86297L32.4538%2014.5367C32.5257%2014.8615%2032.1901%2015.117%2031.9185%2014.9444L28.0004%2012.4666L24.0824%2014.9444C23.8101%2015.1162%2023.4752%2014.8608%2023.5471%2014.5367L24.5833%209.86297L21.1245%206.7205C20.8845%206.50271%2021.0124%206.08899%2021.3293%206.06036L25.8884%205.64965L27.6692%201.2306C27.7928%200.923134%2028.2074%200.923134%2028.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M48.331%201.2306L50.1118%205.6504L54.6708%206.06111C54.987%206.08975%2055.1157%206.50347%2054.8757%206.72126L51.4176%209.86297L52.4538%2014.5367C52.5257%2014.8615%2052.1901%2015.117%2051.9185%2014.9444L48.0004%2012.4666L44.0824%2014.9444C43.8101%2015.1162%2043.4752%2014.8608%2043.5471%2014.5367L44.5833%209.86297L41.1245%206.7205C40.8845%206.50271%2041.0124%206.08899%2041.3293%206.06036L45.8884%205.64965L47.6692%201.2306C47.7928%200.923134%2048.2074%200.923134%2048.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M68.331%201.2306L70.1118%205.6504L74.6708%206.06111C74.987%206.08975%2075.1157%206.50347%2074.8757%206.72126L71.4176%209.86297L72.4538%2014.5367C72.5257%2014.8615%2072.1901%2015.117%2071.9185%2014.9444L68.0004%2012.4666L64.0824%2014.9444C63.8101%2015.1162%2063.4752%2014.8608%2063.5471%2014.5367L64.5833%209.86297L61.1245%206.7205C60.8845%206.50271%2061.0124%206.08899%2061.3293%206.06036L65.8884%205.64965L67.6692%201.2306C67.7928%200.923134%2068.2074%200.923134%2068.331%201.2306Z%22%20fill%3D%22%23CB11AB%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M188.331%201.2306L190.112%205.6504L194.671%206.06111C194.987%206.08975%20195.116%206.50347%20194.876%206.72126L191.418%209.86297L192.454%2014.5367C192.526%2014.8615%20192.19%2015.117%20191.918%2014.9444L188%2012.4666L184.082%2014.9444C183.81%2015.1162%20183.475%2014.8608%20183.547%2014.5367L184.583%209.86297L181.125%206.7205C180.885%206.50271%20181.012%206.08899%20181.329%206.06036L185.888%205.64965L187.669%201.2306C187.793%200.923134%20188.207%200.923134%20188.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M108.331%201.2306L110.112%205.6504L114.671%206.06111C114.987%206.08975%20115.116%206.50347%20114.876%206.72126L111.418%209.86297L112.454%2014.5367C112.526%2014.8615%20112.19%2015.117%20111.918%2014.9444L108%2012.4666L104.082%2014.9444C103.81%2015.1162%20103.475%2014.8608%20103.547%2014.5367L104.583%209.86297L101.125%206.7205C100.885%206.50271%20101.012%206.08899%20101.329%206.06036L105.888%205.64965L107.669%201.2306C107.793%200.923134%20108.207%200.923134%20108.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M128.331%201.2306L130.112%205.6504L134.671%206.06111C134.987%206.08975%20135.116%206.50347%20134.876%206.72126L131.418%209.86297L132.454%2014.5367C132.526%2014.8615%20132.19%2015.117%20131.918%2014.9444L128%2012.4666L124.082%2014.9444C123.81%2015.1162%20123.475%2014.8608%20123.547%2014.5367L124.583%209.86297L121.125%206.7205C120.885%206.50271%20121.012%206.08899%20121.329%206.06036L125.888%205.64965L127.669%201.2306C127.793%200.923134%20128.207%200.923134%20128.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M148.331%201.2306L150.112%205.6504L154.671%206.06111C154.987%206.08975%20155.116%206.50347%20154.876%206.72126L151.418%209.86297L152.454%2014.5367C152.526%2014.8615%20152.19%2015.117%20151.918%2014.9444L148%2012.4666L144.082%2014.9444C143.81%2015.1162%20143.475%2014.8608%20143.547%2014.5367L144.583%209.86297L141.125%206.7205C140.885%206.50271%20141.012%206.08899%20141.329%206.06036L145.888%205.64965L147.669%201.2306C147.793%200.923134%20148.207%200.923134%20148.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M168.331%201.2306L170.112%205.6504L174.671%206.06111C174.987%206.08975%20175.116%206.50347%20174.876%206.72126L171.418%209.86297L172.454%2014.5367C172.526%2014.8615%20172.19%2015.117%20171.918%2014.9444L168%2012.4666L164.082%2014.9444C163.81%2015.1162%20163.475%2014.8608%20163.547%2014.5367L164.583%209.86297L161.125%206.7205C160.885%206.50271%20161.012%206.08899%20161.329%206.06036L165.888%205.64965L167.669%201.2306C167.793%200.923134%20168.207%200.923134%20168.331%201.2306Z%22%20stroke%3D%22%23CB11AB%22%2F%3E%0A%3C%2Fsvg%3E%0A") -100px center no-repeat;
    height: 14px;
    width: 100px;
    font-size: 0;
    display: inline-block;
    vertical-align:baseline
}
.i-dtList .c-stars-line-lg.star0 {
    background-position-x:-100px
}

.i-dtList .c-stars-line-lg.star1 {
    background-position-x:-80px
}

.i-dtList .c-stars-line-lg.star2 {
    background-position-x:-60px
}

.i-dtList .c-stars-line-lg.star3 {
    background-position-x:-40px
}

.i-dtList .c-stars-line-lg.star4 {
    background-position-x:-20px
}

.i-dtList .c-stars-line-lg.star5 {
    background-position-x:0
} */
</style>


<script>

export default {
  data: () => ({
    items: [],
    count: null,
    page: 1,
    limit: 12,
    production: false
  }),
  async mounted() {
    if (process.env.NODE_ENV === 'production') { this.production = true }
    const { count, rows } = await (await fetch(`api/item?page=${this.page}&limit=${this.limit}`)).json()
    this.count = count
    this.items = rows
  }
}
</script>